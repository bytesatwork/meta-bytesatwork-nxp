From fe8914caedb923f1334d2a3059d6b01c87a24087 Mon Sep 17 00:00:00 2001
From: Rico Ganahl <rico.ganahl@bytesatwork.ch>
Date: Thu, 6 Apr 2023 14:23:32 +0200
Subject: [PATCH] board: bytedevkit: use common baw_config

baw_config was moved out of tree and uses own Makefile.

Signed-off-by: Rico Ganahl <rico.ganahl@bytesatwork.ch>
---
 board/bytesatwork/bytedevkit/Makefile     | 11 +----------
 board/bytesatwork/bytedevkit/bytedevkit.c |  2 +-
 board/bytesatwork/bytedevkit/spl.c        |  4 ++--
 3 files changed, 4 insertions(+), 13 deletions(-)

diff --git a/board/bytesatwork/bytedevkit/Makefile b/board/bytesatwork/bytedevkit/Makefile
index 2a28c18184..45d3b3ad8f 100644
--- a/board/bytesatwork/bytedevkit/Makefile
+++ b/board/bytesatwork/bytedevkit/Makefile
@@ -10,17 +10,8 @@ obj-y += bytedevkit.o
 
 ifdef CONFIG_SPL_BUILD
 obj-y += spl.o
-obj-y += baw_config/baw_config.o
-# baw_config_get is mandatory for lpddr4 timing setup
-obj-y += baw_config/baw_config_get.o
 obj-$(CONFIG_IMX8M_LPDDR4) += lpddr4_timing_512_1024_1536_2048.o
 obj-$(CONFIG_IMX8M_LPDDR4) += lpddr4_timing_3072_4096.o
-else
-ifneq ($(or $(CONFIG_CMD_BAW_CONFIG), $(CONFIG_BAW_CONFIG_BUILTIN), $(CONFIG_BAW_CONFIG_EEPROM)),)
-obj-y += baw_config/baw_config.o
-endif
 endif
 
-obj-$(CONFIG_CMD_BAW_CONFIG) += baw_config/cmd_baw_config.o
-obj-$(CONFIG_BAW_CONFIG_EEPROM) += baw_config/baw_config_eeprom.o
-obj-$(CONFIG_BAW_CONFIG_BUILTIN) += baw_config/baw_config_builtin.o
+obj-y += ../baw_config/
diff --git a/board/bytesatwork/bytedevkit/bytedevkit.c b/board/bytesatwork/bytedevkit/bytedevkit.c
index e5e09c0c88..94493a42c4 100644
--- a/board/bytesatwork/bytedevkit/bytedevkit.c
+++ b/board/bytesatwork/bytedevkit/bytedevkit.c
@@ -29,7 +29,7 @@
 #include <usb.h>
 #include <asm/mach-imx/video.h>
 #include <power/pca9450.h>
-#include "baw_config/baw_config_eeprom.h"
+#include "../baw_config/baw_config_eeprom.h"
 
 DECLARE_GLOBAL_DATA_PTR;
 
diff --git a/board/bytesatwork/bytedevkit/spl.c b/board/bytesatwork/bytedevkit/spl.c
index f232b5e6e6..0f5eaa3030 100644
--- a/board/bytesatwork/bytedevkit/spl.c
+++ b/board/bytesatwork/bytedevkit/spl.c
@@ -27,8 +27,8 @@
 #include <mmc.h>
 
 #include "lpddr4_timings.h"
-#include "baw_config/baw_config_eeprom.h"
-#include "baw_config/baw_config_get.h"
+#include "../baw_config/baw_config_eeprom.h"
+#include "../baw_config/baw_config_get.h"
 
 DECLARE_GLOBAL_DATA_PTR;
 
-- 
2.39.2

